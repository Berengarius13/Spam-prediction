<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='styles/style.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <!--Mapbox cdn-->
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.css' rel='stylesheet' />
    <title>Spam Prediction</title>
</head>

<body>
    <!--nav.navbar. (navbar class) navbar-expand-lg (how it will appear as browser shape changes).bg-dark(select color).navbar-dark(as color is dark font color changes)-->
    <!--Fixed top so that it will stay at top-->
    <nav class="navbar navbar-expand-lg bg-black navbar-dark fixed-top">
        <!--a.navbar-brand-->
        <!--.container-->
        <!--We add container so that we don't need to add padding manually-->
        <!--Use alt + arrow to move lines-->
        <div class="container">
            <!--Brand name-->
            <a href="/" class="navbar-brand">SPAM or Not?</a>
            <!-- WE careate a button that you will press in smaller screen so that it will uncollapse -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navmenu">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!--Be we want it to be able to collapse when screen size changes-->
            <div class="collapse navbar-collapse" id="navmenu">

                <!--Add unlisted class of navigation link list-->
                <!--Ms-auto to add margin-->
                <ul class="navbar-nav ms-auto">
                    <!--Add list of links-->
                    <!--Shift + Alt Up + down -->
                    <li class="nav-item">
                        <a href="#learn" class="nav-link">Working</a>
                    </li>
                    <li class="nav-item">
                        <a href="#questions" class="nav-link">Questions</a>
                    </li>
                    <li class="nav-item">
                        <a href="#instructors" class="nav-link">Author</a>
                    </li>
                    <!--Add links-->
                </ul>
            </div>
        </div>

    </nav>

    <!--Showcase -->
    <!--p-5 to add padding all around (you can also do py to add padding in y axis)-->
    <!--text-center to align text in center-->
    <!--text-sm-start so that it will be left align when using larger screen-->
    
    {% if n > 0.5 %}
    <section id="learn" class="p-5 bg-danger text-light">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <!--md screen after that collapses-->

                <div class="col-md p-5">
                    <!--We simply add text-->
                    <h2>SPAM</h2>
                    <p class="lead">
                        Model predicts that there is <span class="text-warning fw-bold"> {{n[0][0]}}</span>  precent chance that the previously 
                        entered message is a spam.
                        
                    </p>
                    <p>
                        Spam is any kind of unwanted, unsolicited digital communication that gets sent out in bulk.
                       
                    </p>
                    
                </div>
                <div class="col-md">
                    <!--Simply add responsive image-->
                    <img src="{{ url_for('static',filename='img/danger.png') }}" height="75%" width="75%"
                        class="img-fluid" alt="danger logo">
                </div>
            </div>
        </div>
    </section>
    {% endif %}
    {% if n < 0.5 %}
    <section id="learn" class="p-5 bg-success text-light">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <!--md screen after that collapses-->

                <div class="col-md p-5">
                    <h2>NOT SPAM</h2>
                    <p class="lead">
                        Model predicts that there is <span class="text-warning fw-bold"> {{n[0][0]}}</span>  precent chance that the previously 
                        entered message is a spam
                        
                    </p>
                    <p>
                        Spam is any kind of unwanted, unsolicited digital communication that gets sent out in bulk.
                       
                    </p>
                </div>
                <div class="col-md">
                    <!--Simply add responsive image-->
                    <img src="{{ url_for('static',filename='img/success.png') }}" height="75%" width="75%"
                        class="img-fluid" alt="success logo">
                </div>
            </div>
        </div>
    </section>
    {% endif %}
    <!--Enter Spam Message-->
    <section class="bg-primary text-light px-5 py-2 ">
        <div class="row m-5">
            <!--We use flexbox,  (we don't want flexbox to kick in until it is medium screen size)-->
            <!--Justify content between, distribute extra space between-->
            <!--Align items center use to align items in ceter-->
            <div class="col">
                <!--Margin bottom 3-->
                <!--We don't want margin for medium screens so mb-md-0 (margin for medium screen =0)-->
                <!-- <h3 class="mb-3 mb-md-0">Sign Up For Our Newsletter</h3> -->
                <!--We copy pasted "input types from documenation", we change btn-color and btn-size-->
                <!--news-input class edited in custom css-->
                <form class="input-group-lg " method="POST" action="/sub">
                    <!-- <input type="text" class="form-control" placeholder="Enter Message" name="strings"> -->
                    <textarea class="form-control" rows="5" data-val-length="Maximum = 3000 characters" placeholder="Enter Message" name="strings"></textarea>
                    <input class="btn btn-dark btn-lg mt-2" type="submit"></input>
                </form>
            </div>
    </div>
    </section>

    <!--Boxes-->
    <section class="p-5">
        <!--We use css grids so basically we create a row and then we add 3 columns-->
        <!--col-md means columns added in medium screens and up and stacks on small screens-->
        <!--We add "cards from documentaions"-->
        <div class="container">
            <!--g-4 adds gap all around-->
            <div class="row text-center g-4">
                <!--WE add card by card class and card body-->
                <div class="col-md">
                    <div class="card bg-danger text-light h-100">
                        <div class="card-body text-center">
                            <!--Icon element bi(bootstrap icon)-->
                            <!--We change size of it by wrapping in h1 class-->
                            <div class="h1 mb-3">
                                <i class="bi bi-laptop"></i>
                            </div>
                            <!--WE add heading in card-->
                            <h2 class="card-title mb-3">Spam example</h2>
                            <!--WE add text in card-->
                            <p class="card-text mb-3">
                                <span class="fst-italic"> {{spam}}  </span>
                            </p>
                            <!--We add button -->
                            <!-- <a href="#" class="btn btn-primary">Read More</a> -->
                        </div>
                    </div>
                </div>
                <div class="col-md">
                    <div class="card bg-success text-light h-100">
                        <div class="card-body text-center">
                            <!--Icon element bi(bootstrap icon)-->
                            <!--We change size of it by wrapping in h1 class-->
                            <div class="h1 mb-3">
                                <i class="bi bi-person-square"></i>
                            </div>
                            <!--WE add heading in card-->
                            <h2 class="card-title mb-3">Not Spam example</h2>
                            <!--WE add text in card-->
                            <p class="card-text mb-3">
                                <span class="fst-italic"> {{ham}}  </span>
                            </p>
                            <!--We add button -->
                            <!-- <a href="#" class="btn btn-dark">Read More</a> -->
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>
    <!--Learn Section-->
    <section id="learn" class="p-5">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <!--md screen after that collapses-->
                <div class="col-md">
                    <!--Simply add responsive image-->
                    <img src="{{ url_for('static',filename='img/sentence_to_padded_sequence.png') }}" height="70%"
                        width="70%" class="img-fluid" alt="sentence_to padded_sequence">
                </div>
                <div class="col-md p-5">
                    <!--We simply add text-->
                    <h2>Pre-processing text data</h2>
                    <p class="lead">
                        Text -> Tokenization -> Sequencing -> Padding
                    </p>
                    <p>
                        Tokenizer is an API available in TensorFlow Keras which is used to tokenize sentences.
                        Tokenizer() does all the required pre-processing such as
                        tokenize into word or character, maximum number of unique tokens hence we can filter out rare
                        words
                        filter out punctuation terms,
                        convert all words to lower case,
                        convert all words to integer index. <br>
                        After tokenization, we represent each sentence by sequences of numbers using
                        texts_to_sequences() from tokenizer object. Subsequently, we use pad_sequences() so that each
                        sequence will have same length. Sequencing and padding are done for both training and testing
                        data.
                    </p>
                    <!--We add button-->
                    <!--m-3 is for margin-->
                    <a href="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/text/Tokenizer"
                        class="btn btn-light m-3">
                        <!--Add chevron icon-->
                        <i class="bi bi-chevron-right"></i>Read More
                    </a>
                </div>
            </div>
        </div>
    </section>
    <!--Learn section part 2-->
    <!--We copy before section to piece together this website-->
    <section id="learn" class="p-5 bg-dark text-light">
        <div class="container">
            <div class="row align-items-center justify-content-between">
                <!--md screen after that collapses-->

                <div class="col-md p-5">
                    <!--We simply add text-->
                    <h2>LSTM</h2>
                    <p class="lead">
                        Long short-term memory network (LSTM) is a variation of RNN, that is capable of
                        learning long-term dependency and also succeed to
                        solve vanishing gradient descent problem.
                    </p>
                    <p>
                        LSTM is actually developed to resolve long-term dependency difficulty. LSTM
                        has a special property of remembering. Main idea of the
                        LSTM model lies simply in the cell state. The cell state
                        flows straight through the sequence almost unchanged with
                        only some little linear interaction. Another important thing
                        about LSTM is gate. This gates control the information and
                        information is safely added or deleted from the cell stated.
                    </p>
                    <!--We add button-->
                    <!--m-3 is for margin-->
                    <a href="https://en.wikipedia.org/wiki/Long_short-term_memory" class="btn btn-light m-3">
                        <!--Add chevron icon-->
                        <i class="bi bi-chevron-right"></i>Read More
                    </a>
                </div>
                <div class="col-md">
                    <!--Simply add responsive image-->
                    <img src="{{ url_for('static',filename='img/LSTM.png') }}" height="95%" width="95%"
                        class="img-fluid" alt="LSTM">
                </div>
            </div>
        </div>
    </section>
    <!--Question Accordian-->
    <section id="questions" class="p-5">
        <div class="container">
            <!--Margin bottom 4-->
            <h2 class="text-center mb-4">Frequently Asked Questions</h2>
            <!--We need to add "ACCORDION ITEM" just search in bootstrap documentaion-->
            <!--We add questions id by (ctrl + d)-->
            <div class="accordion accordion-flush" id="questions">
                <!--Item 1-->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#question-one">
                            Why a spam detection system?
                        </button>
                    </h2>
                    <div id="question-one" class="accordion-collapse collapse" data-bs-parent="#questoins">
                        <div class="accordion-body">
                            Almost all people prefer email system for their daily task
                            to communicate with others. But spam message is a threat to
                            both individual and society. Spam messages basically means
                            that some undesired messages are sent to the special target
                            users inbox. Spam messages make users inbox packed with
                            some unwanted messages which not only annoy the user but
                            also some times the target users may fall into the arranged
                            trap of the attacker.
                        </div>
                    </div>
                </div>
                <!--Item 2-->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#question-two">
                            Why a LSTM based spam detection system?
                        </button>
                    </h2>
                    <div id="question-two" class="accordion-collapse collapse" data-bs-parent="#questions">
                        <div class="accordion-body">
                            Most popular and widely used technique for spam detection
                            is Machine Learning(ML) based algorithms. Some of the
                            researchers conducted supervised ML algorithms for compar
                            ative performance for spam identification using like Naive
                            Baiyes, Dicision Tree, SVM . Integrated approach,
                            combination of two or three algorithms are also proposed to
                            improve the performance. Text based feature extraction is a
                            very time-consuming task. Moreover, it is not easy to extract
                            every important features from text which is not much in length.
                            We demonstrate a spam detection technique in this work
                            using Long Short-Term Memory (LSTMs).
                        </div>
                    </div>
                </div>
                <!--Item 3-->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#question-three">
                            Technical description of model?
                        </button>
                    </h2>
                    <div id="question-three" class="accordion-collapse collapse" data-bs-parent="#questions">
                        <div class="accordion-body">
                            <img src="{{ url_for('static',filename='img/model_summary.png') }}" height="80%" width="80%"
                        class="img-fluid" alt="model_summary">

                        </div>
                    </div>
                </div>
                <!--Item 4-->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#question-four">
                            Some of the frequent and relevant spam words?
                        </button>
                    </h2>
                    <div id="question-four" class="accordion-collapse collapse" data-bs-parent="#questions">
                        <div class="accordion-body" >
                            <img src="{{ url_for('static',filename='img/word_cloud.png') }}" height="75%" width="75%"
                        class="img-fluid" alt="spam_words">

                        </div>
                    </div>
                </div>
                <!--Item 5-->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                            data-bs-target="#question-five">
                            Loss and validation accuracy?
                        </button>
                    </h2>
                    <div id="question-five" class="accordion-collapse collapse" data-bs-parent="#questions">
                        <div class="accordion-body">
                            <img src="{{ url_for('static',filename='img/accuracy_plot.png') }}" height="45%" width="45%"
                        class="img-fluid" alt="spam_words">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--Author section-->

    <!--A card have card{card body {card title,card text}}-->
    <!--P-5 is padding 5 as usual we create a section then we will add a container class-->
    <!-- Add Always add mb=number will help to make better content-->
    <section class="p-5 bg-primary" id="instructors">
        <div class="container">
            <!--We add heading in center-->
            <h2 class="text-center text-white">
                Author
                <!--lead to make text bigger-->
                <p class="lead text-center text white mb-5 mt-2">
                    About me
                </p>
            </h2>
            <!--WE know the standard we create a row-->
            <!--We add gap of 4 all around-->
            <div class="row justify-content-center g-4">
                <!--We create columns, md-6 because we know there are 12 columns total and we need to split it in half as device screen gets smaller-->
                <!--On large screen we want it to take 3 of the 12 columns so col-lg-3, we have basically 4 items in lame language aka 12/3-->

                <!--First column-->
                <div class="col-md-6 col-lg-4">
                    <div class="card bg-light p-4 px-5">
                        <div class="card-body text-center">
                            <!--We use api to get random pictures of humans link/randomnumber-->
                            <!--We use rounded circle class and give bottom margin =3-->
                            <!-- <img src="https://media-exp1.licdn.com/dms/image/C4D03AQE4SYW4REbctA/profile-displayphoto-shrink_200_200/0/1658277451986?e=1663804800&v=beta&t=CNKmeEumByhTlVE-JLo4vwnZJYyqf9NB6MLiRA3SS6k" class="rounded-circle mb-3"
                                alt="author photo"> -->
                            <img class="img-fluid w-40  d-sm-block p-1"
                                src="{{ url_for('static',filename='img/man.svg') }}" alt="imgae of web developer">
                            <!-- <i class="bi bi-person-circle"></i> -->
                            <h3 class="card-title mb-3">Piyush</h3>
                            <p class="card-text mb-3">
                                A passionate developer and geek. The passion of data and understanding human behavior
                                sparked my interest in Machine Learning, which started my programming journey.
                            </p>
                            <!--We add icon by using bi (bootstrap icons) by bi-twitter -->
                            <a href="https://www.linkedin.com/in/piyush31/" target="_blank"
                                class=" bi bi-linkedin text-dark mx-1"></a>
                            <a href="https://github.com/Berengarius13" target="_blank"
                                class="bi bi-github text-dark mx-1"></a>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </section>

    <!--Contact and Map-->

    <!--Classic we make a section with padding 5-->
    <section class="p-5">
        <div class="container">
            <!--We create 3 column items with gap in between-->
            <div class="row g-4">

                <!--Item 1 (information)-->
                <div class="col-md">
                    <!--Classic mb-4 (for margin at bottom 4) and text-center for center text-->
                    <h2 class="text-center mb-4">Contact Info</h2>
                    <!--We find list item in bootstrap documentation-->
                    <!--Add .list-group-flush to remove some borders and rounded corners to render list group items edge-to-edge in a parent container-->
                    <!--We add lead to make text bigger-->
                    <ul class="list-group list-group-flush lead">
                        <!--We want it to be bold so we use span and use fw-bold and outside the span we put:-->
                        <li class="list-group-item align">
                            <span class="fw-bold">Software Developer</span>
                        </li>
                        <li class="list-group-item">
                            <span class="fw-bold">Main Location:</span> New Delhi
                        </li>

                        <li class="list-group-item">
                            <span class="fw-bold">Email:</span> piyush_co20b5_51@dtu.ac.in
                        </li>
                        <li class="list-group-item">
                            <span class="fw-bold"> <br> </span>
                        </li>
                        <li class="list-group-item">
                            <span class="fw-bold"> <br> </span>
                        </li>
                        <li class="list-group-item">
                            <span class="fw-bold"> <br> </span>
                        </li>
                    </ul>
                </div>

                <!--Item 2 (map)-->
                <div class="col-md">
                    <div id='map'></div>
                </div>
            </div>
        </div>

    </section>

    <!--Footer-->

    <!--Class padding then background then text color and identation-->
    <!--We use position relative class becaues we want to have go back up button-->
    <footer class="p-4 bg-dark text-white text-center position-relative">
        <div class="container">
            <!--Copyright-->
            <!-- we use (&given-HTML-symbol-code;)-->
            <p class="lead">Copyright &copy; 2022 Spam Prediction

                <!--We want it to go up button -->
                <!--We use botton 0 and end 0 to make it at last of document-->
                <a href="#" class="position-absolute bottom-0 end-0 p-4">

                    <!--The combination of Position relative in parent and position absolute in child is used so that we can 
                    adjust postion of child in parent then use bottom-0 and end-0 to postion it -->
                    <i class="bi bi-arrow-up-circle h1"></i>
                </a>
                <a href="https://github.com/Berengarius13/Spam-prediction" target="_blank"
                    class="position-absolute bottom-0 start-0 p-4">

                    <!--The combination of Position relative in parent and position absolute in child is used so that we can 
                    adjust postion of child in parent then use bottom-0 and end-0 to postion it -->
                    <i class="bi bi-github h1"></i>
                </a>
            </p>


        </div>
    </footer>

    <!--MODAL (button )-->
    <!-- Modal -->
    <!-- <div class="modal fade" id="enroll" tabindex="-1" role="dialog" >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-bs-dismiss="modal">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          ...
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div> -->

    <!--Javascript animation functionality -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
    <!--Mapbox-->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.6.0/mapbox-gl.js'></script>
    <!--We edit the zoom and center( location of the point we want to show in map)-->

    <script>
        mapboxgl.accessToken =
            'pk.eyJ1IjoiZmF5ZXMyODcxMyIsImEiOiJja3c5NjZsdHgyeG14Mm9yb3MwcnI1MG02In0.cUAmResLTc-112acRSMUqg';
        const map = new mapboxgl.Map({
            container: 'map', // container ID
            style: 'mapbox://styles/mapbox/streets-v11', // style URL
            center: [77.2177, 28.6304], // starting position [lng, lat]
            zoom: 11 // starting zoom
        });
    </script>
</body>
<!--General structure is that you will devide sections and add container within-->
<!--Row (col,col,col) structure is used frequently-->

</html>